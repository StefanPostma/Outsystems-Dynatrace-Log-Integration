{"version":19,"variables":[{"version":2,"key":"Application","type":"query","visible":true,"editable":true,"input":"fetch logs\n| filterOut outsystems.app.name == \"\"\n| sort outsystems.app.name asc\n| summarize collectDistinct(outsystems.app.name)","multiple":true},{"version":2,"key":"ErrorPattern","type":"query","visible":true,"editable":true,"input":"fetch logs\n| filter outsystems.log.type == \"Error\"\n| sort exception.message asc\n| summarize collectDistinct(exception.message)\n","multiple":true},{"version":2,"key":"Environment","type":"query","visible":true,"editable":true,"input":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| fieldsAdd strTenant=toString(deployment.environment)\n| sort strTenant asc\n| summarize collectDistinct(deployment.environment)","multiple":true}],"tiles":{"0":{"type":"markdown","content":"### Error Pattern trend\n> by Application / Pattern / Environment"},"2":{"type":"markdown","content":"***The filters above are filtering the available data from the Events database. Selecting one filter does not impact the content of another filter.***"},"4":{"title":"Errors over time per application - Top 10","type":"data","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter outsystems.log.type == \"Error\"\n| filter in(outsystems.app.name, $Application) \n| filter in(deployment.environment, $Environment) \n| filter in(exception.message, $ErrorPattern) \n| summarize countDistinct(outsystems.log.uid), by: {outsystems.app.name, bin(toTimestamp(timestamp), 10m)}\n| filter outsystems.app.name in [\n  fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n  | filter outsystems.log.type == \"Error\"\n  | filter in(outsystems.app.name, $Application) \n  | summarize Count = countDistinct(outsystems.log.uid), by: {outsystems.app.name}\n  | sort Count desc\n  | limit 10\n  | fieldsKeep outsystems.app.name\n]\n","visualization":"barChart","visualizationSettings":{"chartSettings":{"legend":{"position":"bottom"},"fieldMapping":{"leftAxisValues":["countDistinct(outsystems.log.uid)"],"timestamp":"bin(toTimestamp(timestamp), 10m)"}},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"5":{"title":"Top 15 errors","type":"data","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter outsystems.log.type == \"Error\"\n| summarize Count = countDistinct(outsystems.log.uid), by: {exception.message,outsystems.app.name, deployment.environment}\n| fieldsAdd link = concat(\"https://bhr69999.apps.dynatrace.com/ui/apps/dynatrace.dashboards/dashboard/1e65cc53-c78d-4e83-9d63-1538ddf46633#vfilter_Environment=\",encodeUrl(deployment.environment),\"&vfilter_Application=\",encodeUrl(outsystems.app.name),\"&vfilter_Error_Message=\",encodeUrl(exception.message))\n| sort Count desc\n|limit 15\n//| fields count, timestamp\n//| sort timestamp asc\n","visualization":"table","visualizationSettings":{"table":{"columnOrder":["[\"exception.message\"]","[\"outsystems.app.name\"]","[\"deployment.environment\"]","[\"Count\"]","[\"link\"]"],"lineWrapIds":[["concat(application_name, \" | \", error_message)"]],"columnWidths":{"[\"error_message\"]":600,"[\"application_name\"]":162.796875,"[\"environment_name\"]":173.0625,"[\"Count\"]":149.515625,"[\"link\"]":600}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"6":{"title":"Error ratio per application","type":"data","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter outsystems.log.type == \"Error\"\n| filter in(outsystems.app.name, $Application) \n| filter in(deployment.environment, $Environment) \n| filter in(exception.message, $ErrorPattern) \n| summarize Count = countDistinct(outsystems.log.uid), by: {outsystems.app.name}\n\n//| fields count, timestamp\n//| sort timestamp asc","visualization":"pieChart","visualizationSettings":{"chartSettings":{"legend":{"position":"right"},"categoricalBarChartSettings":{"valueAxis":"Count","valueAxisLabel":"Count","categoryAxis":["outsystems.app.name"],"categoryAxisLabel":"outsystems.app.name"},"circleChartSettings":{"groupingThresholdType":"relative"}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"7":{"title":"30 days Error trend per application ","type":"data","query":"fetch logs, from:now()-30d, to:now()\n| filter outsystems.log.type == \"Error\"\n| summarize countDistinct(outsystems.log.uid), by: {outsystems.app.name, bin(toTimestamp(timestamp), 24h)}\n//| makeTimeseries count(), by: {application_name}\n","visualization":"areaChart","visualizationSettings":{"chartSettings":{"legend":{"position":"bottom"},"fieldMapping":{"leftAxisValues":["countDistinct(outsystems.log.uid)"],"timestamp":"bin(toTimestamp(timestamp), 24h)"},"gapPolicy":"connect"},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}}},"layouts":{"0":{"x":0,"y":1,"w":24,"h":2},"2":{"x":0,"y":0,"w":23,"h":1},"4":{"x":0,"y":3,"w":13,"h":9},"5":{"x":0,"y":12,"w":24,"h":9},"6":{"x":13,"y":3,"w":11,"h":9},"7":{"x":0,"y":21,"w":24,"h":8}},"importedWithCode":false,"settings":{}}